# HTTP知识点

## 一、HTTP的特点

- 简单快速
  - 客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。

- 灵活
  - HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type（Content-Type是HTTP包中用来表示内容类型的标识）加以标记。

- 无连接
  - 指的是限制每次连接只处理一个请求，服务器处理完客户端的请求，并收到客户端的应答后，即断开连接。
  - 特点：请求时建立连接，请求完释放连接，以尽快将资源释放出来给其他客户端，适用于请求非静态资源；
    如果请求的是静态资源，即访问图片每次都需要建立一次TCP连接就显得低效；
    Keep-Alive被提出来解决这效率低的问题，它能使客户端到服务器端的连接持续有效，它能避免建立或重新建立连接；但如果Keep-Alive值设置过大且这期间无其它操作，也是会造成资源浪费，所以需要根据实际应用设置；

- 无状态
  - 是指对于事务处理没有记忆能力，即我们给服务器发送HTTP请求后，服务器根据我们的请求，返回响应信息给我们，但服务器不会记录任何信息，这意味着如果下一次请求，需要上一次请求的信息，则它必须重传，这可能导致每次传送的数据量变大，造成应答时间过长。
  - 现如今的Web应用程序，都是需要客户端与服务器进行动态交互 如：用户选中商品加入购物车之后，点击支付时，需要知道哪些商品存在购物车中；HTTP的无状态特性影响了这些需要交互的应用程序，为了解决这一问题，Cookie和Session诞生了；

## 二、HTTP报文的组成部分

![img](https://pic-1304959529.cos.ap-guangzhou.myqcloud.com/DB/202209151437263.png)

请求行：HTTP方法、页面地址、HTTP协议以及版本

请求头：value值等告诉服务端我要什么内容

空行：告诉服务器，下面就是请求体了。



## 三、HTTP方法

- GET(获取资源)
- POST(传输资源)
- PUT(更新资源)
- DELETE(删除资源)
- HEAD(获得报文首部)

## 四、POST和GET的区别

![img](https://pic-1304959529.cos.ap-guangzhou.myqcloud.com/DB/202209151451321.png)		GET和POST是HTTP请求的两种基本方法，要说它们的区别，接触过WEB开发的人都能说出一二。 

最直观的区别就是GET把参数包含在URL中，POST通过request body传递参数。

差异总结：

- GET在浏览器回退时是无害的，而POST会再次提交请求。
- GET产生的URL地址可以被Bookmark，而POST不可以。
- GET请求会被浏览器主动cache，而POST不会，除非手动设置。
- GET请求只能进行url编码，而POST支持多种编码方式。
- GET请求参数会被完整保留在浏览器历史记录里，而POST中的参数不会被保留。
- GET请求在URL中传送的参数是有长度限制的，而POST么有。
- 对参数的数据类型，GET只接受ASCII字符，而POST没有限制。
- GET比POST更不安全，因为参数直接暴露在URL上，所以不能用来传递敏感信息。
- GET参数通过URL传递，POST放在Request body中。

## 五、HTTP长连接/短连接

HTTP协议采用"请求-应答"模式，当使用完普通模式，即非keep-Alive模式时，每个请求/应答客户和服务器都要新创建一个连接，完成之后立即度拿开连接（HTTP协议为无连接协议）。

当使用Keep-Alive模式（又称持久连接、连接重用）时，Keep-Alive功能使客户端到服务端的连接有效，当出现对服务器的后继请求时，Keep-Alive功能避免建立或者重新建立将连接。

## 六、HTTP管线化

在使用持久连接的情况下，某个连接上消息的传递类似于：请求1 -> 响应1 -> 请求2 -> 响应2 -> 请求3 -> 响应3

某个连接上的消息变成了类似这样：请求1 -> 请求2 -> 请求3 -> 响应1 -> 响应2 -> 响应3

 ![img](https://pic-1304959529.cos.ap-guangzhou.myqcloud.com/DB/202209151440616.png)