<select name="list" id="list">
  <option value="" selected disabled>请选择一项</option>
</select>

<!-- 添加一个<img>元素，用来显示转圈的图标 -->
<img src="loading.gif" id="loading" style="display: none;">

<script>
  // 获取<select>元素
  var list = document.getElementById("list");
  // 获取<img>元素
  var loading = document.getElementById("loading");
  // 添加点击事件监听器
  list.addEventListener("click", function() {
    // 创建XMLHttpRequest对象
    var xhr = new XMLHttpRequest();
    // 设置请求方法和URL
    xhr.open("GET", "https://example.com/api/list");
    // 设置响应类型为JSON
    xhr.responseType = "json";
    // 设置请求开始时的回调函数
    xhr.onloadstart = function() {
      // 隐藏<select>元素
      list.style.display = "none";
      // 显示<img>元素
      loading.style.display = "block";
    };
    // 设置请求完成后的回调函数
    xhr.onloadend = function() {
      // 判断响应状态码是否为200（成功）
      if (xhr.status == 200) {
        // 获取响应数据（数组）
        var data = xhr.response;
        // 遍历数组中的每个元素（对象）
        for (var i = 0; i < data.length; i++) {
          // 创建<option>元素
          var option = document.createElement("option");
          // 设置<option>元素的值和文本内容为对象中的属性值
          option.value = data[i].value;
          option.textContent = data[i].text;
          // 把<option>元素添加到<select>元素中
          list.appendChild(option);
        }
      } else {
        // 如果响应状态码不为200（失败），显示错误信息
        alert("爸爸,我请求失败了：" + xhr.statusText);
      }
      // 隐藏<img>元素
      loading.style.display = "none";
      // 显示<select>元素
      list.style.display = "block";
    };
    // 发送请求
    xhr.send();
  });
</script>
