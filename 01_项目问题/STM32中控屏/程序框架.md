# 程序框架





## 事件驱动

- 循环队列API

```c
eventDispatch() //将事件代号插入到事件队列的队尾：
```

```c
detectEvent() //将事件代号从队列的头取出,然后依次进入事件处理队列中保存的处理散转函数，如果某处理散转函数里定义了该事件的处理方法，则进入执行
```

```c
addEventListener() //将处理散转函数的指针保存到事件处理队列中
```

- 时间相关结构体

  ```c
  typedef struct
  {
      u8 type;   // 事件类别
      u16 event; // 触发的事件
  u16 timer; // 延时或周期时间
  u16 timerBackup; // timer的备份，用于周期事件恢复timer
  }timerEventType;
  ```

- 